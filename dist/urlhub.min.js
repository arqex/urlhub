!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports={urlhub:n(1),pushStrategy:n(7),hashStrategy:n(8)}},function(t,e,n){(function(e){function r(t,e){var n=o(t),r=o(e);return t?e?"/"===n?r:"/"===r?n:n+r:n:r}function o(t){if(!t)return"/";var e=t;return"/"===e[e.length-1]&&(e=e.slice(0,e.length-1)),"/"!==e[0]&&(e="/"+e),e}function i(t,e){var n=Object.assign(t,e),r=n.search;return r=Object.keys(n.query).length?"?"+s.stringify(n.query):"",n.pathname+r+n.hash}var a,c=n(2),s=n(4);a="undefined"!=typeof e&&e.parseUrl?e.parseUrl:function(t){var e=document.createElement("a");return e.href=t,e};var u={create:function(t){return new h(t)},joinUrls:r},h=function(t){if(!t||!t.strategy)throw new Error("Router needs an strategy to listen to url changes.");var e=t.strategy,n={};Object.keys(t).forEach(function(e){"strategy"!==e&&(n[e]=t[e])}),e.init&&e.init(n),this.strategy=e,this.obc=[],this.cbs=[]},f={setRoutes:function(t){this.routes=this.parseRoutes(t)},parseRoutes:function(t,e){t||console.warn("No routes provided to parseRoutes"),t.length||(t=[t]);var n=[],o=this;return t.forEach(function(t){var i=r(e,t.path),a=[],s={regex:c(i,a),id:i,cb:t.cb};s.params=a.map(function(t){return t.name}),t.children&&t.children.length&&(s.childRegex=c(i,[],{end:!1}),s.children=o.parseRoutes(t.children,i)),n.push(s)}),n},match:function(t,e,n){var r,i,c,u,h=0,f=o(t);e||(e=this.routes);var p=a(f);for(r=p.pathname;h<e.length&&!i;){if(u=e[h],i=u.regex.exec(r))i={id:u.id,cb:u.cb,params:i.slice(1)};else if(u.childRegex&&(i=u.childRegex.exec(r))){if(c=this.match(f,u.children,!0))return c.matches=[u.cb].concat(c.matches),c;i=!1}i||h++}return i?(c={matches:[i.cb],pathname:r,search:p.search,query:s.parse(p.search),hash:p.hash,route:i.id,params:{}},u.params.forEach(function(t,e){c.params[t]=i.params[e]}),c):(n||console.error("There is no route match for "+t),!1)},start:function(){var t=this;return this.strategy.onChange(function(e){var n=t.runOnBeforeChange(t.match(e));if(n){var r=n.pathname+n.search+n.hash;e!==r?t.strategy.replace(r):(t.location=n,t.cbs.forEach(function(t){t(n)}))}}),this.strategy.start(),this.match(this.strategy.getLocation())},stop:function(){this.strategy.onChange(function(){})},runOnBeforeChange:function(t){var e=this;return this.obc.forEach(function(n){t&&(t=n(t),"string"==typeof t&&(t=e.match(t)))}),t},onBeforeChange:function(t){this.obc.push(t)},onChange:function(t){this.cbs.push(t)},push:function(t){this.updateLocation("push",t)},replace:function(t){this.updateLocation("replace",t)},back:function(){window.history.back()},updateLocation:function(t,e){var n,r=this.strategy.getLocation();n="string"==typeof e?e:i(this.match(r),e);var o=this.runOnBeforeChange(this.match(n));o&&(n=o.pathname+o.search+o.hash,r!==n&&this.strategy[t](n))}};for(var p in f)h.prototype[p]=f[p];t.exports=u}).call(e,function(){return this}())},function(t,e,n){function r(t,e){for(var n,r=[],o=0,i=0,a="",c=e&&e.delimiter||"/";null!=(n=y.exec(t));){var h=n[0],f=n[1],p=n.index;if(a+=t.slice(i,p),i=p+h.length,f)a+=f[1];else{var l=t[i],g=n[2],d=n[3],m=n[4],v=n[5],b=n[6],x=n[7];a&&(r.push(a),a="");var w=null!=g&&null!=l&&l!==g,j="+"===b||"*"===b,E="?"===b||"*"===b,R=n[2]||c,C=m||v;r.push({name:d||o++,prefix:g||"",delimiter:R,optional:E,repeat:j,partial:w,asterisk:!!x,pattern:C?u(C):x?".*":"[^"+s(R)+"]+?"})}}return i<t.length&&(a+=t.substr(i)),a&&r.push(a),r}function o(t,e){return c(r(t,e))}function i(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function a(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function c(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var o="",c=n||{},s=r||{},u=s.pretty?i:encodeURIComponent,h=0;h<t.length;h++){var f=t[h];if("string"!=typeof f){var p,l=c[f.name];if(null==l){if(f.optional){f.partial&&(o+=f.prefix);continue}throw new TypeError('Expected "'+f.name+'" to be defined')}if(v(l)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var g=0;g<l.length;g++){if(p=u(l[g]),!e[h].test(p))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(0===g?f.prefix:f.delimiter)+p}}else{if(p=f.asterisk?a(l):u(l),!e[h].test(p))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+p+'"');o+=f.prefix+p}}else o+=f}return o}}function s(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function h(t,e){return t.keys=e,t}function f(t){return t.sensitive?"":"i"}function p(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h(t,e)}function l(t,e,n){for(var r=[],o=0;o<t.length;o++)r.push(m(t[o],e,n).source);var i=new RegExp("(?:"+r.join("|")+")",f(n));return h(i,e)}function g(t,e,n){return d(r(t,n),e,n)}function d(t,e,n){v(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,o=n.end!==!1,i="",a=0;a<t.length;a++){var c=t[a];if("string"==typeof c)i+=s(c);else{var u=s(c.prefix),p="(?:"+c.pattern+")";e.push(c),c.repeat&&(p+="(?:"+u+p+")*"),p=c.optional?c.partial?u+"("+p+")?":"(?:"+u+"("+p+"))?":u+"("+p+")",i+=p}}var l=s(n.delimiter||"/"),g=i.slice(-l.length)===l;return r||(i=(g?i.slice(0,-l.length):i)+"(?:"+l+"(?=$))?"),i+=o?"$":r&&g?"":"(?="+l+"|$)",h(new RegExp("^"+i,f(n)),e)}function m(t,e,n){return v(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?p(t,e):v(t)?l(t,e,n):g(t,e,n)}var v=n(3);t.exports=m,t.exports.parse=r,t.exports.compile=o,t.exports.tokensToFunction=c,t.exports.tokensToRegExp=d;var y=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=/([^=?&]+)=?([^&]*)/g,o=n(5),i=n(6);e.stringify=function(t,e){e&&(t=o(t));var n=Object.keys(t);if(!n.length)return"";for(var r,i=0,a=n.length;i<a;i++)r=n[i],n[i]=encodeURIComponent(r)+"="+encodeURIComponent(t[r]);return n.join("&")},e.parse=function(t,e){for(var n,o=e?i:i.flat,a={};n=r.exec(t);)o(a,decodeURIComponent(n[1]),decodeURIComponent(n[2]));return a}},function(t,e){function n(t,e,a){var c=o.call(t);if(null==a)if("[object Object]"===c)a={};else{if("[object Array]"!==c)return;a=[]}for(var s in t){var u=t[s];if(void 0!==u&&i.call(t,s))switch(o.call(u)){case"[object Array]":case"[object Object]":n(u,r(e,s),a);break;default:a[r(e,s)]=u}}return a}function r(t,e){return null!=t?t+"["+e+"]":e}var o=Object.prototype.toString,i=Object.prototype.hasOwnProperty;t.exports=n},function(t,e){"use strict";function n(t,e,n){for(var r,o,i,u,h=""===e?[""]:e.match(a),f=h.length,p=t,l=0;l<f;l++)o=p,r=h[l],i=h[l+1],"[]"===r&&(r=p.length),p=(u="object"==typeof p&&r in p)?p[r]:p[r]="[]"===i||c.test(i)?[]:{};return o[r]=u?s.concat(p,n):n,t}function r(t,e,n){return e=o(t,e),t[e]=e in t?s.concat(t[e],n):n,t}function o(t,e){var n=e.split("[]");if(1===n.length)return e;for(var r=n[0],o=Object.keys(t),a=1,c=n.length;a<c;a++)r+="["+i(o,r)+"]"+n[a];return r}function i(t,e){for(var n,r=-1,o=t.length;o--;)n=t[o],0===n.indexOf(e)&&(n=n.replace(e,""),n=n.slice(1,n.indexOf("]")),n>r&&(r=Number(n)));return r+1}var a=/[^\[\]]+|\[\]/g,c=/^\d+$/,s=[];n.flat=r,t.exports=n},function(t,e){var n=function(){},r={init:function(t){this.basePath=t.basePath||"","/"===this.basePath.slice(-1)&&(this.basePath=this.basePath.slice(0,-1))},start:function(){var t=this;window.onpopstate=function(){t.emit()},t.emit()},push:function(t){history.pushState({},"",this.basePath+t),this.emit()},replace:function(t){history.replaceState({},"",this.basePath+t),this.emit()},onChange:function(t){n=t},getLocation:function(){var t=location.pathname+location.search+location.hash,e=this.basePath.length;return t.slice(0,e)===this.basePath&&(t=t.slice(e)),t},emit:function(){n&&n(this.getLocation())}};t.exports=r},function(t,e){var n=function(){},r={init:function(t){},start:function(){var t=this;location.hash||(location.hash="#/"),window.onhashchange=function(){t.emit()},t.emit()},push:function(t){window.location.hash="#"+t,this.emit()},replace:function(t){var e=location.protocol+"//"+location.host+location.pathname+"#"+t;location.replace(e),this.emit()},onChange:function(t){n=t},getLocation:function(){return location.hash?"/"!==location.hash[1]?"/"+location.hash:location.hash.slice(1):"/"},emit:function(){n(this.getLocation())}};t.exports=r}])});