!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){(function(t){function n(e,t){var r=o(e),n=o(t);return e?t?"/"===r?n:"/"===n?r:r+n:r:n}function o(e){if(!e)return"/";var t=e;return"/"===t[t.length-1]&&(t=t.slice(0,t.length-1)),"/"!==t[0]&&(t="/"+t),t}function i(e,t){}var a,c=r(1),u=r(3);a="undefined"!=typeof t&&t.parseUrl?t.parseUrl:function(e){var t=document.createElement("a");return t.href=e,t};var s={create:function(e,t){return new f(e,t)},joinUrls:n},f=function(e,t){if(!t||!t.strategy)throw new Error("Router needs an strategy to listen to url changes.");this.routes=this.parseRoutes(e),this.strategy=t.strategy,this.cbs=[]},p={parseRoutes:function(e,t){e||console.warn("No routes provided to parseRoutes"),e.length||(e=[e]);var r=[];return e.forEach(function(e){var o=n(t,e.path);console.log("creating",o);var i=[],a={regex:c(o,i),id:o,cb:e.cb};a.params=i.map(function(e){return e.name}),e.children&&e.children.length&&(a.childRegex=c(o,[],{end:!1}),a.children=this.parseRoutes(e.children,o)),r.push(a)}),r},match:function(e,t){var r,n,i,c,s=0,f=o(e);t||(t=this.routes);var p=a(f);for(r=p.pathname;s<t.length&&!n;){if(c=t[s],n=c.regex.exec(r))n={id:c.id,cb:c.cb,params:n.slice(1)};else if(c.childRegex&&(n=c.childRegex.exec(r))){if(i=this.match(f,c.children))return i.matches=[c.cb].concat(i.matches),i;n=!1}n||s++}return!!n&&(i={matches:[n.cb],pathname:r,search:p.search,query:u.parse(p.search),hash:p.hash,route:n.id,params:{}},c.params.forEach(function(e,t){i.params[e]=n.params[t]}),i)},start:function(){var e=this;this.strategy.onChange(function(t){var r=e.match(t);e.cbs.forEach(function(e){e(r)})}),this.strategy.start()},onChange:function(e){this.cbs.push(e)},push:function(e){this.updateLocation("push",e)},replace:function(e){this.updateLocation("replace",e)},updateLocation:function(e,t){var r;r="string"==typeof t?t:i(this.match(this.strategy.getLocation()),t),this.strategy[e](r)}};for(var l in p)f.prototype[l]=p[l];e.exports=s}).call(t,function(){return this}())},function(e,t,r){function n(e,t){for(var r,n=[],o=0,i=0,a="",c=t&&t.delimiter||"/";null!=(r=x.exec(e));){var f=r[0],p=r[1],l=r.index;if(a+=e.slice(i,l),i=l+f.length,p)a+=p[1];else{var h=e[i],g=r[2],d=r[3],v=r[4],m=r[5],y=r[6],b=r[7];a&&(n.push(a),a="");var w=null!=g&&null!=h&&h!==g,j="+"===y||"*"===y,E="?"===y||"*"===y,R=r[2]||c,O=v||m;n.push({name:d||o++,prefix:g||"",delimiter:R,optional:E,repeat:j,partial:w,asterisk:!!b,pattern:O?s(O):b?".*":"[^"+u(R)+"]+?"})}}return i<e.length&&(a+=e.substr(i)),a&&n.push(a),n}function o(e,t){return c(n(e,t))}function i(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function a(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function c(e){for(var t=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(t[r]=new RegExp("^(?:"+e[r].pattern+")$"));return function(r,n){for(var o="",c=r||{},u=n||{},s=u.pretty?i:encodeURIComponent,f=0;f<e.length;f++){var p=e[f];if("string"!=typeof p){var l,h=c[p.name];if(null==h){if(p.optional){p.partial&&(o+=p.prefix);continue}throw new TypeError('Expected "'+p.name+'" to be defined')}if(m(h)){if(!p.repeat)throw new TypeError('Expected "'+p.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(p.optional)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var g=0;g<h.length;g++){if(l=s(h[g]),!t[f].test(l))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'", but received `'+JSON.stringify(l)+"`");o+=(0===g?p.prefix:p.delimiter)+l}}else{if(l=p.asterisk?a(h):s(h),!t[f].test(l))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but received "'+l+'"');o+=p.prefix+l}}else o+=p}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function s(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function f(e,t){return e.keys=t,e}function p(e){return e.sensitive?"":"i"}function l(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return f(e,t)}function h(e,t,r){for(var n=[],o=0;o<e.length;o++)n.push(v(e[o],t,r).source);var i=new RegExp("(?:"+n.join("|")+")",p(r));return f(i,t)}function g(e,t,r){return d(n(e,r),t,r)}function d(e,t,r){m(t)||(r=t||r,t=[]),r=r||{};for(var n=r.strict,o=r.end!==!1,i="",a=0;a<e.length;a++){var c=e[a];if("string"==typeof c)i+=u(c);else{var s=u(c.prefix),l="(?:"+c.pattern+")";t.push(c),c.repeat&&(l+="(?:"+s+l+")*"),l=c.optional?c.partial?s+"("+l+")?":"(?:"+s+"("+l+"))?":s+"("+l+")",i+=l}}var h=u(r.delimiter||"/"),g=i.slice(-h.length)===h;return n||(i=(g?i.slice(0,-h.length):i)+"(?:"+h+"(?=$))?"),i+=o?"$":n&&g?"":"(?="+h+"|$)",f(new RegExp("^"+i,p(r)),t)}function v(e,t,r){return m(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?l(e,t):m(e)?h(e,t,r):g(e,t,r)}var m=r(2);e.exports=v,e.exports.parse=n,e.exports.compile=o,e.exports.tokensToFunction=c,e.exports.tokensToRegExp=d;var x=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=/([^=?&]+)=?([^&]*)/g,o=r(4),i=r(5);t.stringify=function(e,t){t&&(e=o(e));var r=Object.keys(e);if(!r.length)return"";for(var n,i=0,a=r.length;i<a;i++)n=r[i],r[i]=encodeURIComponent(n)+"="+encodeURIComponent(e[n]);return r.join("&")},t.parse=function(e,t){for(var r,o=t?i:i.flat,a={};r=n.exec(e);)o(a,decodeURIComponent(r[1]),decodeURIComponent(r[2]));return a}},function(e,t){function r(e,t,a){var c=o.call(e);if(null==a)if("[object Object]"===c)a={};else{if("[object Array]"!==c)return;a=[]}for(var u in e){var s=e[u];if(void 0!==s&&i.call(e,u))switch(o.call(s)){case"[object Array]":case"[object Object]":r(s,n(t,u),a);break;default:a[n(t,u)]=s}}return a}function n(e,t){return null!=e?e+"["+t+"]":t}var o=Object.prototype.toString,i=Object.prototype.hasOwnProperty;e.exports=r},function(e,t){"use strict";function r(e,t,r){for(var n,o,i,s,f=""===t?[""]:t.match(a),p=f.length,l=e,h=0;h<p;h++)o=l,n=f[h],i=f[h+1],"[]"===n&&(n=l.length),l=(s="object"==typeof l&&n in l)?l[n]:l[n]="[]"===i||c.test(i)?[]:{};return o[n]=s?u.concat(l,r):r,e}function n(e,t,r){return t=o(e,t),e[t]=t in e?u.concat(e[t],r):r,e}function o(e,t){var r=t.split("[]");if(1===r.length)return t;for(var n=r[0],o=Object.keys(e),a=1,c=r.length;a<c;a++)n+="["+i(o,n)+"]"+r[a];return n}function i(e,t){for(var r,n=-1,o=e.length;o--;)r=e[o],0===r.indexOf(t)&&(r=r.replace(t,""),r=r.slice(1,r.indexOf("]")),r>n&&(n=Number(r)));return n+1}var a=/[^\[\]]+|\[\]/g,c=/^\d+$/,u=[];r.flat=n,e.exports=r}])});