!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports={urlhub:n(1),pushStrategy:n(7),hashStrategy:n(8)}},function(t,e,n){(function(e){function r(t,e){var n=o(t),r=o(e);return t?e?"/"===n?r:"/"===r?n:n+r:n:r}function o(t){if(!t)return"/";var e=t;return"/"===e[e.length-1]&&(e=e.slice(0,e.length-1)),"/"!==e[0]&&(e="/"+e),e}function a(t,e){var n=Object.assign(t,e),r=n.search;return r=Object.keys(n.query).length?"?"+s.stringify(n.query):"",n.pathname+r+n.hash}var i,c=n(2),s=n(4);i="undefined"!=typeof e&&e.parseUrl?e.parseUrl:function(t){var e=document.createElement("a");return e.href=t,e};var h={create:function(t){return new u(t)},joinUrls:r},u=function(t){if(!t||!t.strategy)throw new Error("Router needs an strategy to listen to url changes.");var e=t.strategy,n={};Object.keys(t).forEach(function(e){"strategy"!==e&&(n[e]=t[e])}),e.init&&e.init(n),this.strategy=e,this.obc=[],this.cbs=[]},f={setRoutes:function(t){this.routes=this.parseRoutes(t)},parseRoutes:function(t,e){t||console.warn("No routes provided to parseRoutes"),t.length||(t=[t]);var n=[],o=this;return t.forEach(function(t){var a=r(e,t.path),i=[],s={regex:c(a,i),id:a,cb:t.cb};s.params=i.map(function(t){return t.name}),t.children&&t.children.length&&(s.childRegex=c(a,[],{end:!1}),s.children=o.parseRoutes(t.children,a)),n.push(s)}),n},match:function(t,e,n){var r,a,c,h,u=0,f=o(t);e||(e=this.routes);var p=i(f);for(r=p.pathname,"/"!==r[0]&&(r="/"+r);u<e.length&&!a;){if(h=e[u],h.childRegex&&(a=h.childRegex.exec(r))){if(c=this.match(f,h.children,!0),c.matches.length)return c.matches=[h.cb].concat(c.matches),c.matchIds=[h.id].concat(c.matchIds),c;a=!1}a=h.regex.exec(r),a&&(a={id:h.id,cb:h.cb,params:a.slice(1)}),a||u++}var l=[],g=[];return a?(l.push(a.cb),g.push(a.id)):n||console.error("There is no route match for "+t),c={matches:l,matchIds:g,pathname:r,search:p.search,query:s.parse(p.search),hash:p.hash,route:a&&a.id||!1,params:{}},a&&h.params.forEach(function(t,e){c.params[t]=a.params[e]}),c},start:function(){var t=this;return this.strategy.onChange(function(){var e=t.checkChange();e.next&&(e.current!==e.next?t.strategy.replace(e.next):(t.location=e.nextLocation,t.cbs.forEach(function(t){t(e.nextLocation)})))}),this.strategy.start(),this.location=this.match(this.strategy.getLocation()),this.location},stop:function(){this.strategy.onChange(function(){})},refresh:function(){var t=this.checkChange();t.next&&t.current!==t.next&&this.strategy.replace(t.next)},checkChange:function(){var t=this.strategy.getLocation(),e=this.runOnBeforeChange(this.match(t)),n=e&&e.pathname+e.search+e.hash;return{current:t,next:n,nextLocation:e}},runOnBeforeChange:function(t){var e=this;return this.obc.forEach(function(n){t&&(t=n(t),"string"==typeof t&&(t=e.match(t)))}),t},onBeforeChange:function(t){this.obc.push(t)},onChange:function(t){this.cbs.push(t)},push:function(t){this.updateLocation("push",t)},replace:function(t){this.updateLocation("replace",t)},back:function(){window.history.back()},updateLocation:function(t,e){var n,r=this.strategy.getLocation();n="string"==typeof e?e:a(this.match(r),e);var o=this.runOnBeforeChange(this.match(n));o&&(n=o.pathname+o.search+o.hash,r!==n&&this.strategy[t](n))}};for(var p in f)u.prototype[p]=f[p];t.exports=h}).call(e,function(){return this}())},function(t,e,n){function r(t,e){for(var n,r=[],o=0,a=0,i="",c=e&&e.delimiter||"/";null!=(n=y.exec(t));){var u=n[0],f=n[1],p=n.index;if(i+=t.slice(a,p),a=p+u.length,f)i+=f[1];else{var l=t[a],g=n[2],d=n[3],v=n[4],m=n[5],x=n[6],b=n[7];i&&(r.push(i),i="");var w=null!=g&&null!=l&&l!==g,j="+"===x||"*"===x,E="?"===x||"*"===x,R=n[2]||c,C=v||m;r.push({name:d||o++,prefix:g||"",delimiter:R,optional:E,repeat:j,partial:w,asterisk:!!b,pattern:C?h(C):b?".*":"[^"+s(R)+"]+?"})}}return a<t.length&&(i+=t.substr(a)),i&&r.push(i),r}function o(t,e){return c(r(t,e))}function a(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function i(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function c(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var o="",c=n||{},s=r||{},h=s.pretty?a:encodeURIComponent,u=0;u<t.length;u++){var f=t[u];if("string"!=typeof f){var p,l=c[f.name];if(null==l){if(f.optional){f.partial&&(o+=f.prefix);continue}throw new TypeError('Expected "'+f.name+'" to be defined')}if(m(l)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var g=0;g<l.length;g++){if(p=h(l[g]),!e[u].test(p))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(0===g?f.prefix:f.delimiter)+p}}else{if(p=f.asterisk?i(l):h(l),!e[u].test(p))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+p+'"');o+=f.prefix+p}}else o+=f}return o}}function s(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function h(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function u(t,e){return t.keys=e,t}function f(t){return t.sensitive?"":"i"}function p(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(t,e)}function l(t,e,n){for(var r=[],o=0;o<t.length;o++)r.push(v(t[o],e,n).source);var a=new RegExp("(?:"+r.join("|")+")",f(n));return u(a,e)}function g(t,e,n){return d(r(t,n),e,n)}function d(t,e,n){m(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,o=n.end!==!1,a="",i=0;i<t.length;i++){var c=t[i];if("string"==typeof c)a+=s(c);else{var h=s(c.prefix),p="(?:"+c.pattern+")";e.push(c),c.repeat&&(p+="(?:"+h+p+")*"),p=c.optional?c.partial?h+"("+p+")?":"(?:"+h+"("+p+"))?":h+"("+p+")",a+=p}}var l=s(n.delimiter||"/"),g=a.slice(-l.length)===l;return r||(a=(g?a.slice(0,-l.length):a)+"(?:"+l+"(?=$))?"),a+=o?"$":r&&g?"":"(?="+l+"|$)",u(new RegExp("^"+a,f(n)),e)}function v(t,e,n){return m(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?p(t,e):m(t)?l(t,e,n):g(t,e,n)}var m=n(3);t.exports=v,t.exports.parse=r,t.exports.compile=o,t.exports.tokensToFunction=c,t.exports.tokensToRegExp=d;var y=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function r(t,e){e&&(t=a.flatten(t));var n=Object.keys(t);if(!n.length)return"";for(var r=0,o=n.length;r<o;r++){var i=n[r];n[r]=encodeURIComponent(i)+"="+encodeURIComponent(t[i])}return n.join("&")}function o(t,e){for(var n=e?i.deep:i.shallow,r={};;){var o=c.exec(t);if(!o)break;var a=o[1],s=o[2];n(r,decodeURIComponent(a),decodeURIComponent(s))}return r}Object.defineProperty(e,"__esModule",{value:!0});var a=n(5),i=n(6),c=/([^=?&]+)=?([^&]*)/g;e.stringify=r,e.parse=o},function(t,e){"use strict";function n(t,e,o){var h=a.call(t);if(void 0===o)if(h===c)o={};else{if(h!==s)return;o=[]}for(var u in t)if(i.call(t,u)){var f=t[u];if(null!=f)switch(a.call(f)){case s:case c:n(f,r(e,u),o);break;default:o[r(e,u)]=f}}return o}function r(t,e){return null!=t?t+"["+e+"]":e}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.prototype,a=o.toString,i=o.hasOwnProperty,c="[object Object]",s="[object Array]";e.flatten=n},function(t,e){"use strict";function n(t,e,n){for(var r,o,a,h=""===e?[""]:e.match(i),u=h.length,f=t,p=0;p<u;p++){r=f,o=h[p];var l=h[p+1];"[]"===o&&(o=f.length),f=(a="object"==typeof f&&o in f)?f[o]:f[o]="[]"===l||c.test(l)?[]:{}}return r[o]=a?s.concat(f,n):n,t}function r(t,e,n){return e=o(t,e),t[e]=e in t?s.concat(t[e],n):n,t}function o(t,e){var n=e.split("[]");if(1===n.length)return e;for(var r=n[0],o=Object.keys(t),i=1,c=n.length;i<c;i++)r+="["+a(o,r)+"]"+n[i];return r}function a(t,e){for(var n=-1,r=t.length;r--;){var o=t[r];if(0===o.indexOf(e)){var a=Number(o.replace(e,"").slice(1,o.indexOf("]")-1));a>n&&(n=a)}}return n+1}Object.defineProperty(e,"__esModule",{value:!0});var i=/[^\[\]]+|\[\]/g,c=/^\d+$/,s=[];e.deep=n,e.shallow=r},function(t,e){var n=function(){},r={init:function(t){this.basePath=t.basePath||"","/"===this.basePath.slice(-1)&&(this.basePath=this.basePath.slice(0,-1))},start:function(){var t=this;window.onpopstate=function(){t.emit()},t.emit()},push:function(t){history.pushState({},"",this.basePath+t),this.emit()},replace:function(t){history.replaceState({},"",this.basePath+t),this.emit()},onChange:function(t){n=t},getLocation:function(){var t=location.pathname+location.search+location.hash,e=this.basePath.length;return t.slice(0,e)===this.basePath&&(t=t.slice(e)),t},emit:function(){n&&n(this.getLocation())}};t.exports=r},function(t,e){var n=function(){},r={init:function(t){},start:function(){var t=this;location.hash||(location.hash="#/"),window.onhashchange=function(){t.emit()},t.emit()},push:function(t){window.location.hash="#"+t},replace:function(t){var e=location.protocol+"//"+location.host+location.pathname+"#"+t;location.replace(e)},onChange:function(t){n=t},getLocation:function(){return location.hash?"/"!==location.hash[1]?"/"+location.hash:location.hash.slice(1):"/"},emit:function(){n(this.getLocation())}};t.exports=r}])});